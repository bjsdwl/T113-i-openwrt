// SPDX-License-Identifier: (GPL-2.0+ OR MIT)
/dts-v1/;

/ {
	model = "Tronlong TLT113-MiniEVM (OpenWrt)";
	compatible = "tronlong,tlt113-minievm", "allwinner,sun8i-t113s", "allwinner,sun8i";
	#address-cells = <1>;
	#size-cells = <1>;
	interrupt-parent = <&gic>;

	aliases {
		serial0 = &uart0;
		ethernet0 = &emac;
		spi0 = &spi0;
	};

	chosen {
		stdout-path = "serial0:115200n8";
	};

	reserved-memory {
		#address-cells = <1>;
		#size-cells = <1>;
		ranges;

		optee_reserve: optee@41c00000 {
			reg = <0x41c00000 0x1000000>;
			no-map;
		};
	};

	cpus {
		#address-cells = <1>;
		#size-cells = <0>;
		cpu0: cpu@0 {
			compatible = "arm,cortex-a7";
			device_type = "cpu";
			reg = <0>;
			clocks = <&ccu 0>;
			clock-names = "cpu";
			cpu-supply = <&reg_vdd_cpu>;
		};
		cpu1: cpu@1 {
			compatible = "arm,cortex-a7";
			device_type = "cpu";
			reg = <1>;
			clocks = <&ccu 0>;
			clock-names = "cpu";
			cpu-supply = <&reg_vdd_cpu>;
		};
	};

	reg_vdd_cpu: vdd-cpu {
		compatible = "pwm-regulator";
		pwms = <&pwm 7 5000 0>;
		regulator-name = "vdd-cpu";
		regulator-min-microvolt = <810000>;
		regulator-max-microvolt = <1100000>;
		regulator-ramp-delay = <250>;
		regulator-always-on;
		regulator-boot-on;
	};

	osc24M: osc24M_clk {
		#clock-cells = <0>;
		compatible = "fixed-clock";
		clock-frequency = <24000000>;
		clock-output-names = "osc24M";
	};

	osc32k: osc32k_clk {
		#clock-cells = <0>;
		compatible = "fixed-clock";
		clock-frequency = <32768>;
		clock-output-names = "osc32k";
	};

	reg_vcc3v3: vcc3v3 {
		compatible = "regulator-fixed";
		regulator-name = "vcc3v3";
		regulator-min-microvolt = <3300000>;
		regulator-max-microvolt = <3300000>;
		regulator-always-on;
	};

	reg_usb1_vbus: usb1-vbus {
		compatible = "regulator-fixed";
		regulator-name = "usb1-vbus";
		regulator-min-microvolt = <5000000>;
		regulator-max-microvolt = <5000000>;
		regulator-enable-ramp-delay = <1000>;
		gpio = <&pio 1 12 0>;
		enable-active-high;
		regulator-always-on;
	};

	leds {
		compatible = "gpio-leds";

		led-0 {
			function = "heartbeat";
			color = <2>;
			label = "tlt113:green:heartbeat";
			gpios = <&pio 2 0 0>;
			linux,default-trigger = "heartbeat";
		};

		led-1 {
			function = "disk";
			color = <2>;
			label = "tlt113:green:disk";
			gpios = <&pio 2 1 0>;
			linux,default-trigger = "activity";
		};

		led-2 {
			function = "user";
			color = <2>;
			label = "tlt113:green:user";
			gpios = <&pio 6 11 0>;
		};
	};

	hdmi_connector: connector {
		compatible = "hdmi-connector";
		type = "a";
		ddc-i2c-bus = <&i2c0>;
		port {
			hdmi_con_in: endpoint {
				remote-endpoint = <&lt8912_out>;
			};
		};
	};

	soc {
		compatible = "simple-bus";
		#address-cells = <1>;
		#size-cells = <1>;
		ranges;

		gic: interrupt-controller@3021000 {
			compatible = "arm,gic-400";
			reg = <0x03021000 0x1000>, <0x03022000 0x2000>, <0x03024000 0x2000>, <0x03026000 0x2000>;
			interrupts = <1 9 4>;
			interrupt-controller;
			#interrupt-cells = <3>;
		};

		pmu {
			compatible = "arm,cortex-a7-pmu";
			interrupts = <0 172 4>, <0 173 4>;
			interrupt-affinity = <&cpu0>, <&cpu1>;
		};

		pwm: pwm@2000c00 {
			compatible = "allwinner,sun20i-d1-pwm";
			reg = <0x02000c00 0x400>;
			clocks = <&ccu 13>, <&osc24M>, <&osc32k>;
			clock-names = "bus", "hosc", "losc";
			resets = <&ccu 13>;
			#pwm-cells = <3>;
			status = "okay";
		};

		pio: pinctrl@2000000 {
			compatible = "allwinner,sun20i-d1-pinctrl";
			reg = <0x02000000 0x800>;
			interrupts = <0 13 4>, <0 14 4>, <0 15 4>, <0 16 4>, <0 17 4>, <0 18 4>;
			clocks = <&ccu 13>, <&osc24M>, <&osc32k>;
			clock-names = "apb", "hosc", "losc";
			gpio-controller;
			#gpio-cells = <3>;
			interrupt-controller;
			#interrupt-cells = <3>;

			uart0_pg_pins: uart0-pg-pins {
				pins = "PG17", "PG18";
				function = "uart0";
			};

			emac_rgmii_pins: emac-rgmii-pins {
				pins = "PG0", "PG1", "PG2", "PG3", "PG4", "PG5", "PG6", "PG7", "PG8", "PG9", "PG10", "PG12", "PG14", "PG15";
				function = "emac";
				drive-strength = <40>;
			};

			i2c0_pins: i2c0-pins {
				pins = "PB10", "PB11";
				function = "twi0";
			};

			i2c2_pins: i2c2-pins {
				pins = "PE12", "PE13";
				function = "twi2";
			};

			spi0_pins: spi0-pins {
				pins = "PC2", "PC4", "PC5", "PC6", "PC7";
				function = "spi0";
			};

			spi0_cs0_pin: spi0-cs0-pin {
				pins = "PC3";
				function = "spi0";
			};

			mmc0_pins: mmc0-pins {
				pins = "PF0", "PF1", "PF2", "PF3", "PF4", "PF5";
				function = "mmc0";
				drive-strength = <30>;
				bias-pull-up;
			};

			pwm7_pin: pwm7-pin {
				pins = "PD22";
				function = "pwm7";
			};
		};

		ccu: clock-controller@2001000 {
			compatible = "allwinner,sun20i-d1-ccu";
			reg = <0x02001000 0x1000>;
			clocks = <&osc24M>, <&osc32k>;
			clock-names = "hosc", "losc";
			#clock-cells = <1>;
			#reset-cells = <1>;
		};

		uart0: serial@2500000 {
			compatible = "snps,dw-apb-uart";
			reg = <0x02500000 0x400>;
			interrupts = <0 2 4>;
			reg-shift = <2>;
			reg-io-width = <4>;
			clocks = <&ccu 62>;
			resets = <&ccu 18>;
			status = "okay";
			pinctrl-names = "default";
			pinctrl-0 = <&uart0_pg_pins>;
		};

		i2c0: i2c@2502000 {
			compatible = "allwinner,sun20i-d1-i2c", "allwinner,sun8i-v536-i2c";
			reg = <0x02502000 0x400>;
			interrupts = <0 11 4>;
			clocks = <&ccu 68>;
			resets = <&ccu 24>;
			#address-cells = <1>;
			#size-cells = <0>;
			status = "okay";
			pinctrl-names = "default";
			pinctrl-0 = <&i2c0_pins>;
		};

		i2c2: i2c@2502800 {
			compatible = "allwinner,sun20i-d1-i2c", "allwinner,sun8i-v536-i2c";
			reg = <0x02502800 0x400>;
			interrupts = <0
